<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>Validação de CIE</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background-color: #f5f5f5; 
            color: #333; 
        }
        h1 { 
            text-align: center; 
            font-size: 24px; 
            color: #0056b3; 
        }
        .valid-message { 
            text-align: center; 
            background-color: #e6f3e6; 
            color: #008000; 
            font-weight: bold; 
            padding: 10px; 
            border: 1px solid #008000; 
            border-radius: 5px; 
        }
        .attest { 
            text-align: center; 
            font-style: italic; 
        }
        .photo-section { 
            text-align: center; 
            margin: 20px 0; 
        }
        img { 
            width: 150px; 
            height: auto; 
            border: 1px solid #ccc; 
            border-radius: 5px; 
        }
        table { 
            width: 60%; 
            margin: 0 auto; 
            border-collapse: collapse; 
            border: 1px solid #ccc; 
        }
        th, td { 
            border: 1px solid #ccc; 
            padding: 10px; 
            text-align: left; 
        }
        th { 
            background-color: #f0f0f0; 
            font-weight: bold; 
        }
        pre { 
            background-color: #f9f9f9; 
            border: 1px solid #ccc; 
            padding: 10px; 
            overflow: auto; 
            font-family: monospace; 
            white-space: pre-wrap; 
            margin: 20px auto; 
            width: 80%; 
        }
    </style>
</head>
<body>
    <h1>Validação de CIE (Carteira de Identificação Estudantil)</h1>
    <p class="valid-message" id="valid-msg">Documento válido!</p>
    <p class="attest" id="attest-text">[Emissor] atesta que [Nome] é estudante e está regularmente matriculado(a) em [Curso] da instituição [Instituição]</p>
    <div class="photo-section">
        <h2>Foto</h2>
        <img id="photo" src="sua-imagem.jpg" alt="Foto do Estudante"> <!-- Suba a imagem no repo e mude o src para o nome do arquivo, ex: "foto.jpg" -->
    </div>
    <table>
        <tr><th>Nome:</th><td id="name">[Nome]</td></tr>
        <tr><th>Instituição:</th><td id="inst">[Instituição]</td></tr>
        <tr><th>Curso:</th><td id="course">[Curso]</td></tr>
        <tr><th>Documento de Identificação:</th><td id="doc">[Documento]</td></tr>
        <tr><th>Emissor:</th><td id="emitter">[Emissor]</td></tr>
    </table>
    <h3>Certificado de Atributo em formato PEM:</h3>
    <pre id="cert">
-----BEGIN CERTIFICATE-----
[Cole o bloco PEM aqui como placeholder inicial]
-----END CERTIFICATE-----
    </pre>

    <script>
        // Parte dinâmica: Lê ?matricula= da URL e atualiza os dados
        const urlParams = new URLSearchParams(window.location.search);
        const matricula = urlParams.get('matricula');

        if (matricula) {
            // Simule um banco de dados com objetos JS (adicione mais matrículas aqui)
            const dados = {
                'SWZ3QSEP': {
                    valid: true,
                    attest: 'UEB atesta que NATALIA C. TENÓRIO DOS SANTOS é estudante e está regularmente matriculado(a) em NUTRIÇÃO da instituição UFBA',
                    photo: 'https://exemplo.com/foto-natalia.jpg', // Use URL real ou suba no repo
                    name: 'NATALIA C. TENÓRIO DOS SANTOS',
                    inst: 'UFBA',
                    course: 'NUTRIÇÃO',
                    doc: '1406255858',
                    emitter: 'UEB',
                    cert: '-----BEGIN CERTIFICATE-----\nMIIDmjCCAoKgAwIBAgIUJ7... [cole o PEM real aqui]\n-----END CERTIFICATE-----'
                },
                'XYZ123': { // Exemplo de outra matrícula
                    valid: true,
                    attest: 'UEB atesta que SEU NOME é estudante...',
                    photo: 'sua-outra-imagem.jpg',
                    name: 'SEU NOME',
                    inst: 'SUA INST',
                    course: 'SEU CURSO',
                    doc: '123456',
                    emitter: 'UEB',
                    cert: '-----BEGIN CERTIFICATE-----\nOutro PEM...\n-----END CERTIFICATE-----'
                }
            };

            const info = dados[matricula] || { valid: false }; // Se não encontrar, mostra inválido

            if (info.valid) {
                document.getElementById('valid-msg').innerText = 'Documento válido!';
                document.getElementById('attest-text').innerText = info.attest;
                document.getElementById('photo').src = info.photo;
                document.getElementById('name').innerText = info.name;
                document.getElementById('inst').innerText = info.inst;
                document.getElementById('course').innerText = info.course;
                document.getElementById('doc').innerText = info.doc;
                document.getElementById('emitter').innerText = info.emitter;
                document.getElementById('cert').innerText = info.cert;
            } else {
                document.getElementById('valid-msg').innerText = 'Documento inválido!';
                document.getElementById('valid-msg').style.backgroundColor = '#f3e6e6';
                document.getElementById('valid-msg').style.color = '#800000';
                // Limpe outros campos se quiser
            }
        }
    </script>
</body>
</html>
